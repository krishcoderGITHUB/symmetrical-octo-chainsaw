<style type="text/css">

.container{
  max-width:1190px;
  margin-left:auto;
  margin-right:auto;
border-radius:20px;
 Padding:0.6em;
}

ul{
  list-style: none;
  padding:0;
}

.brand{
  text-align: center;
}

.brand span{
  color:#fff;
}

.wrapper{
  box-shadow: 0 0 20px 0 rgba(72,94,116,0.7);
border-radius:100px;
}

.wrapper > *{
  Padding:0.4em;
  height:auto;
}
.company-inf{
                background:#f9feff;
            
}
.company-info{
                background:#f9feff;
                
                max-height: 1000px; 

                overflow-x: hidden; 

                overflow-y: auto; 
}

.company-info h3, .company-info ul{
  text-align: center;
  margin:0 0 1rem 0;
}

.contact{
  background:#f9feff;
 min-height:1000px;
  height:60%;
}

/* FORM STYLES */
.contact form{
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap:20px;

}

.contact form label{
  display:block;
}

.contact form p{
  margin:0;
}

.contact form .full{
  grid-column: 1 / 3;
}

.contact form button, .contact form input, .contact form textarea{
  width:100%;
  padding:1em;
  border:1px solid #c9e6ff;
}

.contact form button{
  background:#696969;
  border:0;
  text-transform: uppercase;
  color:#fff;
}

.contact form button:hover,.contact form button:focus{
  background:#92bde7;
  color:#fff;
  outline:0;
  transition: background-color 2s ease-out;
}

.alert{
  text-align: center;
  padding:10px;
  background:#79c879;
  color:#fff;
  margin-bottom:10px;
  display:none;
}
#nocomments{
width:300px;

}
/* LARGE SCREENS */
/*@media(min-width:700px){
#nocomments{
padding-top:185px;
width:auto;
padding-left:40px;
}
  .wrapper{
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    grid-gap:2px;
  }

  .wrapper > *{
    padding:2em;
  }

  .company-info h3, .company-info ul, .brand{
    text-align: left;
  }
  .container{
  max-width:auto;
padding:none;
  }
  .contact{
  background:#f9feff;
  min-height:1145px;
  height:60%;
  }
.contact form{
  display: block;
}
#name{
margin-bottom:16px;
}
#email{
margin-bottom:16px;
}
#message{
margin-bottom:16px;
}
.hrclass{display:none}
}
*/

#userList {
 margin:0;
 padding:0;
 width:auto;
 float:left;

 border:1px solid blue;
 list-style:none;
}


#userList li {
 padding:4px 6px 1px 4px;
 border-top:1px solid #4fc3fc;
 cursor: pointer;
text-align:left;

}
#userList div{
text-align: right;
}
#userList p{
font-size:13px;
}
.comment {background-color:grey; border-radius:10px; border: 2px solid rgb(204, 204, 204); padding: 5px 10px; color: white; position: relative; font-size: 1.3em; margin: 10px 0px;}
.comment p{margin:1px;}
.comment h4 { padding: 0px; margin: 0px;position: absolute; top: 30px; left: 30%; }

.comment span.date { position: absolute; top: 50px; left:30%; }

.comment .profile-image img { width:25%; height: 80px; border-radius: 40%; }

hr { border: 1px solid rgb(238, 238, 238); margin: 60px 0px; }

/*input[type="text"], textarea { width: 100%; padding: 10px; font-size: 18px; display: block; box-sizing: border-box; }

textarea { height: 250px; line-height: 1.5em; border: 1px solid rgb(204, 204, 204); resize: none; }

label { margin: 30px 0px 10px; display: block; }

input[type="submit"] { margin: 30px 0px 0px; font-size: 20px; }

/* LARGE SCREENS */

</style>
<div class="container">
<div class="wrapper">
<div class="company-inf" ><H2 style="text-align:center;"> Recent Comments</H2>
<div class="company-info" >
<div class="comments"></div></div></div>

<div class="contact"><hr class="hrclass">
<h3>Add Your Comment</h3>
  <div class="alert"><pre>Your message has been sent for review.
  It will be shown in 1-2 days.</pre></div>
<form id="contactForm">
<p>
<label>Name</label>
<input type="text" name="name" id="name" required>
</p>
<p>
<label>Email Address</label>
<input type="email" name="email" id="email" required>
</p>  
<p class="full">
<label>Message</label>
<textarea name="message" rows="5" id="message" required></textarea>
</p>  
<p class="full">
<button type="submit">Submit</button>
</p>

</form><p>

Note: <br>
&#10003;We are taking email because:-
 <p style="margin-left:15px" >&#8226;If anyone have written his/her query in comment,then we'll try to contact him/her through his/her email address.</p>
<p style="margin-left:15px" > &#8226;We make use of email address to provide avatars to the comments. </p>
&#10003;After submitting,your comment will go for <b>review</b> to prevent spread of abuse.It will be visible in 1-2 days
 <br><br>&#10003;Your email will be safe and we will not send blog notification email until you have subscribed our newsletter subscription in our <a href=#>newsletter subscription</a><br><p style="margin-top:5px;text-align:center" >Thanking You,<br>
Krish Coder.</p> 
</p></div>
</div>

</div>
<script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.0/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.1.0/js/md5.js"></script>
<script>
$(function() {
  //To add comments
  var ref = new Firebase("https://heera-chats.firebaseio.com/"),
    queryString = window.location.search;
    path ="blogger/comments/"+ queryString ;
    postRef = ref.child(path);
    postRef.on("child_added", function(snapshot) {
      var newPost = snapshot.val();
      $(".comments").prepend('<div class="comment">' +
        '<h4>' + escapeHtml(newPost.name) + '</h4>' +
        '<div class="profile-image"><img src="http://www.gravatar.com/avatar/' + escapeHtml(newPost.md5Email) + '?s=100&d=retro;"/></div>' +
        '<span class="date">' + moment(newPost.postedAt).fromNow() + '</span><p>' + escapeHtml(newPost.message)  + '</p></div>');
    });
    
    //To check wheter their is anyone comment or not
  /*  nopostRef = ref.child('checkcomment/poston');
    nopostRef.on("child_added", function(snapshot) {
    var noPost = snapshot.val();
    $(".comments").prepend('<img id="nocomments" src="'+ escapeHtml(noPost.Valllue) +'"></img>');
    });*/
    
    
//To add comments to reviewcomments child in firebase
    b = ref.child(path);
//<img src="http://www.gravatar.com/avatar/' + escapeHtml(newPost.md5Email) + '?s=100&d=retro;"/>
    
    
    $("#contactForm").submit(function() {
// Show alert
 document.querySelector('.alert').style.display = 'block';
 
 // Hide alert after 3 seconds
 setTimeout(function(){
 document.querySelector('.alert').style.display = 'none';
 },3000);
 
      var c = b.push();
      c.set({
        name: $("#name").val(),
        message: $("#message").val(),
        md5Email: md5($("#email").val()),
        Email: $("#email").val(),
        postedAt: Firebase.ServerValue.TIMESTAMP
      });


      $("input[type=text], textarea").val("");
      return false;
    });
});

function slugify(text) {
  return text.toString().toLowerCase().trim()
    .replace(/&/g, '-and-')
    .replace(/[\s\W-]+/g, '-')
    .replace(/[^a-zA-Z0-9-_]+/g,'');
}


function escapeHtml(str) {
    var div = document.createElement('div');
    div.appendChild(document.createTextNode(str));
    return div.innerHTML;
}

</script>
